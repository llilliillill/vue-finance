(function(){"use strict";var e={5179:function(e,t,d){var a=d(9242),r=d(3396);function n(e,t,d,a,n,i){const u=(0,r.up)("table-finance");return(0,r.wg)(),(0,r.j4)(u)}var i=d(7139);const u=e=>((0,r.dD)("data-v-1ac861ab"),e=e(),(0,r.Cn)(),e),o={colspan:"4"},s=u((()=>(0,r._)("tr",null,[(0,r._)("th",null,"№"),(0,r._)("th",null,"Дата"),(0,r._)("th",null,"Доходы/Расходы"),(0,r._)("th")],-1))),l={key:0},h={class:"day",colspan:"4"},c={key:0},m=["value"],b=["onClick"],y={key:2},f=["value"],p=["onClick"],v=["onClick"],D={key:0},g=u((()=>(0,r._)("th",null,null,-1))),w=u((()=>(0,r._)("th",null,"Итого:",-1))),_=u((()=>(0,r._)("th",null,null,-1))),k={key:1},C=u((()=>(0,r._)("td",{colspan:"4",style:{color:"red"}},"Пусто!",-1))),O=[C],N={key:2},E={key:0},x=["placeholder"],T={key:2};function z(e,t,d,n,u,C){return(0,r.wg)(),(0,r.iD)("table",null,[(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("td",o,(0,i.zw)(u.title),1)]),s]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.array,((e,d)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:d},[C.isDay(e.date)?((0,r.wg)(),(0,r.iD)("tr",l,[(0,r._)("td",h,(0,i.zw)(C.getDate(this.day)),1)])):(0,r.kq)("",!0),(0,r._)("tr",null,[(0,r._)("td",null,(0,i.zw)(d+1),1),u.editdate==d?((0,r.wg)(),(0,r.iD)("td",c,[(0,r._)("input",{ref_for:!0,ref:"date",value:e.date,onBlur:t[0]||(t[0]=(...e)=>C.editClose&&C.editClose(...e)),onKeypress:t[1]||(t[1]=(0,a.D2)((e=>C.saveEditData("date")),["enter"]))},null,40,m)])):((0,r.wg)(),(0,r.iD)("td",{key:1,onClick:e=>C.editDate(d)},(0,i.zw)(e.date),9,b)),u.editnumber==d?((0,r.wg)(),(0,r.iD)("td",y,[(0,r._)("input",{ref_for:!0,ref:"number",value:e.number,onBlur:t[2]||(t[2]=(...e)=>C.editClose&&C.editClose(...e)),onKeypress:t[3]||(t[3]=(0,a.D2)((e=>C.saveEditData("number")),["enter"]))},null,40,f)])):((0,r.wg)(),(0,r.iD)("td",{key:3,onClick:e=>C.editNumber(d),style:(0,i.j5)(C.getTextColor(e.number))},(0,i.zw)(e.number),13,p)),(0,r._)("td",{onClick:e=>C.deleteItem(d)},"✕",8,v)])],64)))),128))]),(0,r._)("tfoot",null,[u.array.length>0?((0,r.wg)(),(0,r.iD)("tr",D,[g,w,(0,r._)("th",{style:(0,i.j5)(C.getTextColor(C.result()))},(0,i.zw)(C.result()),5),_])):((0,r.wg)(),(0,r.iD)("tr",k,O)),u.add?((0,r.wg)(),(0,r.iD)("tr",N,[(0,r._)("td",{colspan:"4",onClick:t[4]||(t[4]=(...e)=>C.addOpen&&C.addOpen(...e))},"Добавить ячейку")])):((0,r.wg)(),(0,r.iD)("tr",{key:3,onKeypress:t[12]||(t[12]=(0,a.D2)(((...e)=>C.saveAddData&&C.saveAddData(...e)),["enter"]))},[(0,r._)("td",null,(0,i.zw)(u.array.length+1),1),u.addDateOpen?((0,r.wg)(),(0,r.iD)("td",E,[(0,r.wy)((0,r._)("input",{ref:"date",placeholder:C.today(),onBlur:t[5]||(t[5]=(...e)=>C.addEditClose&&C.addEditClose(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>u.adddate=e)},null,40,x),[[a.nr,u.adddate]])])):((0,r.wg)(),(0,r.iD)("td",{key:1,onClick:t[7]||(t[7]=e=>C.addEditOpen("date"))},(0,i.zw)(u.adddate),1)),u.addNumberOpen?((0,r.wg)(),(0,r.iD)("td",T,[(0,r.wy)((0,r._)("input",{ref:"number",placeholder:"0",onBlur:t[8]||(t[8]=(...e)=>C.addEditClose&&C.addEditClose(...e)),"onUpdate:modelValue":t[9]||(t[9]=e=>u.addnumber=e)},null,544),[[a.nr,u.addnumber]])])):((0,r.wg)(),(0,r.iD)("td",{key:3,onClick:t[10]||(t[10]=e=>C.addEditOpen("number"))},(0,i.zw)(u.addnumber),1)),(0,r._)("td",{onClick:t[11]||(t[11]=(...e)=>C.addClose&&C.addClose(...e))},"✕")],32))])])}var j=JSON.parse('[{"date":"26.01.2022","number":"+1500"},{"date":"27.01.2022","number":"-1000"},{"date":"28.01.2022","number":"+3000"},{"date":"28.01.2022","number":"+1000"},{"date":"28.01.2022","number":"-2000"},{"date":"29.01.2022","number":"+2000"},{"date":"30.01.2022","number":"+6000"},{"date":"30.01.2022","number":"-3000"},{"date":"01.04.2022","number":"+7000"},{"date":"01.04.2022","number":"-1000"},{"date":"02.04.2022","number":"+4000"},{"date":"02.04.2022","number":"-2000"}]'),$={name:"table-finance",data(){return{title:"Таблица финансов",array:j,getday:!0,day:"",editdate:void 0,editnumber:void 0,add:!0,adddate:this.today(),addnumber:"0",addDateOpen:!1,addNumberOpen:!1}},updated(){this.array.sort(((e,t)=>this.dateToNumber(e["date"])-this.dateToNumber(t["date"])))},methods:{result(){let e=0;for(let t=0;t<this.array.length;t++)e+=this.array[t]["number"].match(/[a-zа-я]+/i)?0:parseFloat(this.array[t]["number"]);return(e>0?"+"+e.toFixed(2):e.toFixed(2)).replace(".00","")},today(){return(new Date).toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric"})},yesterday(){let e=new Date;return e.setDate(e.getDate()-1),e.toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric"})},dateToNumber(e){return parseInt(e.slice(6,11)+e.slice(3,5)+e.slice(0,2))},formatDate(e){return e||this.today()},formatNumber(e){return e>0&&"+"!==e.substring(0,1)?"+"+e:""===e?"0":e},getTextColor(e){return e=String(e),"+"===e.substring(0,1)?{color:"green"}:"-"===e.substring(0,1)?{color:"red"}:{color:"gray"}},isDay(e){return this.day!==e&&(this.day=e,!0)},getDate(){return this.day==this.today()?"Сегодня":this.day==this.yesterday()?"Вчера":this.day},saveEditData(){void 0!==this.editdate&&(this.array[this.editdate].date=this.formatDate(this.$refs.date[0].value),this.editdate=void 0),void 0!==this.editnumber&&(this.array[this.editnumber].number=this.formatNumber(this.$refs.number[0].value),this.editnumber=void 0)},saveAddData(){this.array.push({date:this.formatDate(this.adddate),number:this.formatNumber(this.addnumber)}),this.adddate=this.today(),this.addnumber="0",this.add=!0},editDate(e){this.add=!0,this.editnumber=void 0,this.editdate=e,this.$nextTick((()=>{this.$refs["date"][0].focus()}))},editNumber(e){this.add=!0,this.editdate=void 0,this.editnumber=e,this.$nextTick((()=>{this.$refs["number"][0].focus()}))},editClose(){this.add=!0,this.editdate=void 0,this.editnumber=void 0},deleteItem(e){this.add=!0,this.editdate=void 0,this.editnumber=void 0,this.array.splice(e,1)},addOpen(){this.add=!1,this.editdate=void 0,this.editnumber=void 0,this.addEditOpen("number")},addEditOpen(e){"date"==e?(this.addNumberOpen=!1,this.addDateOpen=!0):(this.addDateOpen=!1,this.addNumberOpen=!0),this.$nextTick((()=>{this.$refs[e].focus()}))},addEditClose(){this.addDateOpen=!1,this.addNumberOpen=!1},addClose(){this.adddate=this.today(),this.addnumber="0",this.add=!0}}},F=d(89);const A=(0,F.Z)($,[["render",z],["__scopeId","data-v-1ac861ab"]]);var B=A,I={name:"App",components:{tableFinance:B}};const K=(0,F.Z)(I,[["render",n]]);var S=K;(0,a.ri)(S).mount("#app")}},t={};function d(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,d),n.exports}d.m=e,function(){var e=[];d.O=function(t,a,r,n){if(!a){var i=1/0;for(l=0;l<e.length;l++){a=e[l][0],r=e[l][1],n=e[l][2];for(var u=!0,o=0;o<a.length;o++)(!1&n||i>=n)&&Object.keys(d.O).every((function(e){return d.O[e](a[o])}))?a.splice(o--,1):(u=!1,n<i&&(i=n));if(u){e.splice(l--,1);var s=r();void 0!==s&&(t=s)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,r,n]}}(),function(){d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,{a:t}),t}}(),function(){d.d=function(e,t){for(var a in t)d.o(t,a)&&!d.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){d.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};d.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,i=a[0],u=a[1],o=a[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(r in u)d.o(u,r)&&(d.m[r]=u[r]);if(o)var l=o(d)}for(t&&t(a);s<i.length;s++)n=i[s],d.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return d.O(l)},a=self["webpackChunkvue_cli"]=self["webpackChunkvue_cli"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=d.O(void 0,[998],(function(){return d(5179)}));a=d.O(a)})();
//# sourceMappingURL=app.ef026d46.js.map